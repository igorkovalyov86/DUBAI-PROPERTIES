<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –î—É–±–∞—è</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --gold: #d4af37;
            --dark: #1a1a2e;
            --light: #f8f9fa;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: var(--light);
        }
        
        header {
            background: linear-gradient(135deg, var(--dark) 0%, #16213e 100%);
            color: white;
            padding: 1rem 2rem;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--gold);
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        nav a:hover, nav a.active {
            color: var(--gold);
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .hero {
            height: 100vh;
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), 
                        linear-gradient(45deg, #004466, #0088cc);
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            padding: 0 1rem;
            margin-top: 70px;
        }
        
        .hero-content {
            max-width: 800px;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            color: var(--gold);
        }
        
        section {
            padding: 5rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            color: var(--dark);
            position: relative;
        }
        
        .section-title:after {
            content: '';
            display: block;
            width: 100px;
            height: 3px;
            background: var(--gold);
            margin: 10px auto;
        }
        
        .attractions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .attraction-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            cursor: pointer;
        }
        
        .attraction-card:hover {
            transform: translateY(-5px);
        }
        
        .attraction-img {
            height: 200px;
            background-size: cover;
            background-position: center;
            background-color: #f0f0f0;
            position: relative;
        }
        
        .attraction-content {
            padding: 1.5rem;
        }
        
        .properties-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }
        
        .property-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .property-image {
            height: 250px;
            position: relative;
        }
        
        .carousel-container {
            height: 100%;
            position: relative;
        }
        
        .carousel-slide {
            height: 100%;
            background-size: cover;
            background-position: center;
            position: absolute;
            width: 100%;
            opacity: 0;
            transition: opacity 0.5s;
        }
        
        .carousel-slide.active {
            opacity: 1;
        }
        
        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.5);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            z-index: 2;
        }
        
        .carousel-btn.prev {
            left: 10px;
        }
        
        .carousel-btn.next {
            right: 10px;
        }
        
        .carousel-dots {
            position: absolute;
            bottom: 10px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 5px;
            z-index: 2;
        }
        
        .carousel-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            cursor: pointer;
        }
        
        .carousel-dot.active {
            background: white;
        }
        
        .property-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--gold);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            z-index: 2;
        }
        
        .property-content {
            padding: 1.5rem;
        }
        
        .property-title {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }
        
        .property-developer {
            color: var(--gold);
            font-size: 0.9rem;
            display: block;
            margin-bottom: 1rem;
        }
        
        .property-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1rem 0;
            padding: 1rem 0;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
        }
        
        .property-price {
            color: var(--gold);
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .property-actions {
            display: flex;
            gap: 0.5rem;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        
        .filters {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .filter-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .filter-group label {
            font-weight: 500;
            margin-bottom: 0.5rem;
            display: block;
        }
        
        .filter-group select, .filter-group input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .developers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }
        
        .developer-card {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .developer-card:hover {
            transform: translateY(-5px);
        }
        
        .developer-logo {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .developer-projects {
            color: var(--gold);
            font-weight: bold;
            margin-top: 0.5rem;
        }
        
        .about-content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 3rem;
            align-items: start;
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .about-image {
            height: 400px;
            border-radius: 10px;
            background-size: cover;
            background-position: center;
            background-color: #f0f0f0;
            position: relative;
        }
        
        .about-text {
            line-height: 1.8;
        }
        
        .about-text h3 {
            color: var(--gold);
            margin-bottom: 1rem;
        }
        
        .btn {
            background: var(--gold);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .btn:hover {
            background: #b8941f;
            transform: translateY(-2px);
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid var(--gold);
            color: var(--gold);
        }
        
        .btn-outline:hover {
            background: var(--gold);
            color: white;
        }
        
        .add-btn {
            display: block;
            margin: 2rem auto;
            max-width: 200px;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            overflow-y: auto;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            background: white;
            margin: 2rem auto;
            max-width: 800px;
            width: 90%;
            border-radius: 10px;
            position: relative;
            padding: 2rem;
            animation: slideUp 0.3s ease;
        }
        
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }
        
        .modal-title {
            font-size: 1.5rem;
            color: var(--dark);
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
            transition: color 0.3s;
        }
        
        .close-modal:hover {
            color: var(--dark);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--dark);
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            font-family: inherit;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            border-color: var(--gold);
            outline: none;
        }
        
        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .drag-drop-area {
            border: 2px dashed #ddd;
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #fafafa;
            position: relative;
        }
        
        .drag-drop-area.dragover {
            border-color: var(--gold);
            background: #fffaf0;
        }
        
        .drag-drop-area i {
            font-size: 2rem;
            color: #ddd;
            margin-bottom: 1rem;
        }
        
        .image-preview {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .preview-item {
            position: relative;
            height: 120px;
            border-radius: 5px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .remove-image {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(255, 0, 0, 0.8);
            color: white;
            border: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            transition: background 0.3s;
        }
        
        .remove-image:hover {
            background: #ff0000;
        }
        
        footer {
            background: var(--dark);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 4rem;
        }
        
        .detail-modal-content {
            max-width: 900px;
            padding: 0;
            background: transparent;
        }
        
        .detail-carousel {
            height: 400px;
            position: relative;
            border-radius: 10px 10px 0 0;
            overflow: hidden;
        }
        
        .detail-carousel-slide {
            height: 100%;
            background-size: cover;
            background-position: center;
            position: absolute;
            width: 100%;
            opacity: 0;
            transition: opacity 0.5s;
        }
        
        .detail-carousel-slide.active {
            opacity: 1;
        }
        
        .detail-carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.5);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            z-index: 10;
            transition: background 0.3s;
        }
        
        .detail-carousel-btn:hover {
            background: rgba(0,0,0,0.8);
        }
        
        .detail-carousel-btn.prev {
            left: 20px;
        }
        
        .detail-carousel-btn.next {
            right: 20px;
        }
        
        .detail-carousel-dots {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 10px;
            z-index: 10;
        }
        
        .detail-carousel-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .detail-carousel-dot.active {
            background: white;
        }
        
        .detail-content {
            padding: 2rem;
            background: white;
            border-radius: 0 0 10px 10px;
        }
        
        .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1.5rem;
        }
        
        .detail-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .detail-item {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 5px;
        }
        
        .detail-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #eee;
            flex-wrap: wrap;
        }
        
        .video-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%;
            height: 0;
            margin: 1rem 0;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .video-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 3rem;
            z-index: 1;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }
        
        .has-video {
            position: relative;
        }
        
        .has-video::after {
            content: '‚ñ∂';
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            z-index: 1;
        }
        
        .edit-buttons {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            justify-content: center;
        }
        
        .attraction-actions, .developer-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            justify-content: center;
        }
        
        .image-count {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            z-index: 2;
        }
        
        .attraction-view-btn {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 2;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .attraction-view-btn:hover {
            background: rgba(0,0,0,0.9);
        }
        
        @media (max-width: 768px) {
            nav ul {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: var(--dark);
                flex-direction: column;
                padding: 1rem;
                gap: 1rem;
            }
            
            nav ul.active {
                display: flex;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .about-content {
                grid-template-columns: 1fr;
            }
            
            .detail-info {
                grid-template-columns: 1fr;
            }
            
            .property-actions {
                flex-wrap: wrap;
            }
            
            .modal-content {
                width: 95%;
                padding: 1rem;
                margin: 1rem auto;
            }
        }
        
        .no-image {
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 1.2rem;
            flex-direction: column;
            height: 100%;
        }
        
        .empty-state {
            text-align: center;
            padding: 3rem;
            color: #666;
            grid-column: 1 / -1;
        }
        
        .empty-state i {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #ddd;
        }
        
        .attraction-detail-modal {
            max-width: 800px;
        }
        
        .attraction-detail-img {
            height: 300px;
            border-radius: 10px;
            background-size: cover;
            background-position: center;
            margin-bottom: 1.5rem;
            position: relative;
        }
        
        .image-fullscreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 3000;
            display: none;
            justify-content: center;
            align-items: center;
        }
        
        .image-fullscreen.active {
            display: flex;
        }
        
        .fullscreen-img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }
        
        .close-fullscreen {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .zoom-controls {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        
        .zoom-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .image-upload-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .uploaded-images {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .uploaded-image {
            position: relative;
            height: 100px;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .uploaded-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .delete-uploaded-image {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(255,0,0,0.8);
            color: white;
            border: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .video-drag-drop-area {
            border: 2px dashed #ddd;
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #fafafa;
            margin-top: 0.5rem;
            position: relative;
        }
        
        .video-drag-drop-area.dragover {
            border-color: var(--gold);
            background: #fffaf0;
        }
        
        .video-preview {
            margin-top: 1rem;
            width: 100%;
            max-height: 300px;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .video-preview video {
            width: 100%;
            height: auto;
        }
        
        .drag-drop-text {
            color: #666;
            font-size: 0.9rem;
            margin: 0.5rem 0;
        }
        
        .video-or-text {
            text-align: center;
            margin: 1rem 0;
            color: #666;
        }
        
        .form-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }
        
        .save-success {
            background-color: #4CAF50;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            text-align: center;
            display: none;
        }
        
        .save-success.show {
            display: block;
            animation: fadeInOut 2s ease;
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; }
            20% { opacity: 1; }
            80% { opacity: 1; }
            100% { opacity: 0; }
        }
        
        .error-message {
            color: #ff4444;
            font-size: 0.9rem;
            margin-top: 0.5rem;
            display: none;
        }
        
        .error-message.show {
            display: block;
        }
        
        .hidden-video-input {
            display: none;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">DUBAI PROPERTIES</div>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            <nav id="mainNav">
                <ul>
                    <li><a href="#home" class="active">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="#attractions">–î—É–±–∞–π</a></li>
                    <li><a href="#properties">–û–±—ä–µ–∫—Ç—ã</a></li>
                    <li><a href="#developers">–ó–∞—Å—Ç—Ä–æ–π—â–∏–∫–∏</a></li>
                    <li><a href="#about">–û–±–æ –º–Ω–µ</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="hero" id="home">
        <div class="hero-content">
            <h1>–≠–ª–∏—Ç–Ω–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –î—É–±–∞–µ</h1>
            <p>–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ—Ç –≤–µ–¥—É—â–∏—Ö –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–æ–≤ –û–ê–≠. –ü–æ–¥–±–æ—Ä, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫.</p>
        </div>
    </section>

    <section id="attractions">
        <h2 class="section-title">–î—É–±–∞–π - –≥–æ—Ä–æ–¥ –±—É–¥—É—â–µ–≥–æ</h2>
        <button class="btn add-btn" onclick="openEditModal('attraction', 'new')">
            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
        </button>
        <div class="attractions-grid" id="attractionsContainer">
            <!-- Attractions will be rendered here -->
        </div>
    </section>

    <section id="properties" style="background: #f8f9fa;">
        <h2 class="section-title">–û–±—ä–µ–∫—Ç—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</h2>
        
        <div class="filters">
            <div class="filter-group">
                <div>
                    <label for="developerFilter">–ó–∞—Å—Ç—Ä–æ–π—â–∏–∫</label>
                    <select id="developerFilter" onchange="applyFilters()">
                        <option value="all">–í—Å–µ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∏</option>
                    </select>
                </div>
                <div>
                    <label for="priceFilter">–ú–∞–∫—Å. —Ü–µ–Ω–∞ ($)</label>
                    <input type="number" id="priceFilter" placeholder="–õ—é–±–∞—è" oninput="applyFilters()">
                </div>
                <div>
                    <label for="areaFilter">–ú–∏–Ω. –ø–ª–æ—â–∞–¥—å (–º¬≤)</label>
                    <input type="number" id="areaFilter" placeholder="–õ—é–±–∞—è" oninput="applyFilters()">
                </div>
            </div>
        </div>

        <button class="btn add-btn" onclick="openEditModal('property', 'new')">
            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç
        </button>

        <div class="properties-grid" id="propertiesContainer">
            <!-- Properties will be rendered here -->
        </div>
    </section>

    <section id="developers">
        <h2 class="section-title">–ó–∞—Å—Ç—Ä–æ–π—â–∏–∫–∏</h2>
        <button class="btn add-btn" onclick="openEditModal('developer', 'new')">
            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞
        </button>
        <div class="developers-grid" id="developersContainer">
            <!-- Developers will be rendered here -->
        </div>
    </section>

    <section id="about">
        <h2 class="section-title">–û–±–æ –º–Ω–µ</h2>
        <div class="about-content">
            <div class="about-image" id="aboutImage"></div>
            <div class="about-text" id="aboutText">
                <!-- About text will be rendered here -->
            </div>
        </div>
        <button class="btn add-btn" onclick="openEditModal('about')">
            <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
        </button>
    </section>

    <footer>
        <p>¬© 2024 –≠–ª–∏—Ç–Ω–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –î—É–±–∞—è. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        <p>+971 50 123 4567 | info@dubaiproperties.ae</p>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div class="modal edit-modal" id="editModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
                <button class="close-modal" onclick="closeEditModal()">&times;</button>
            </div>
            <div id="modalContent">
                <!-- Form content will be here -->
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ–±—ä–µ–∫—Ç–æ–≤ -->
    <div class="modal detail-modal" id="propertyDetailModal">
        <div class="modal-content detail-modal-content">
            <div class="detail-carousel" id="detailCarousel"></div>
            <div class="detail-content">
                <div class="detail-header">
                    <div>
                        <h2 id="detailTitle"></h2>
                        <p id="detailDeveloper"></p>
                    </div>
                    <div id="detailPrice"></div>
                </div>
                
                <div class="detail-info">
                    <div class="detail-item">
                        <strong>–ü–ª–æ—â–∞–¥—å</strong>
                        <p id="detailArea"></p>
                    </div>
                    <div class="detail-item">
                        <strong>–¶–µ–Ω–∞</strong>
                        <p id="detailPriceValue"></p>
                    </div>
                </div>
                
                <div id="detailLocation"></div>
                
                <div id="detailDescription"></div>
                
                <div id="detailVideo" style="margin: 2rem 0;"></div>
                
                <div class="detail-actions">
                    <button class="btn" onclick="editCurrentProperty()">
                        <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <button class="btn btn-outline" onclick="closeDetailModal()">
                        –ó–∞–∫—Ä—ã—Ç—å
                    </button>
                    <button class="btn btn-outline" onclick="deleteCurrentProperty()" style="color: #ff4444; border-color: #ff4444;">
                        <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π -->
    <div class="modal attraction-detail-modal" id="attractionDetailModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="attractionDetailTitle"></h3>
                <button class="close-modal" onclick="closeAttractionDetailModal()">&times;</button>
            </div>
            <div class="modal-body" style="padding: 0 2rem 2rem;">
                <div class="attraction-detail-img" id="attractionDetailImage"></div>
                <p id="attractionDetailDescription" style="line-height: 1.6; color: #333; margin-bottom: 1.5rem;"></p>
                <div id="attractionDetailVideo"></div>
                <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                    <button class="btn" onclick="editCurrentAttraction()">
                        <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <button class="btn btn-outline" onclick="closeAttractionDetailModal()">
                        –ó–∞–∫—Ä—ã—Ç—å
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
    <div class="image-fullscreen" id="imageFullscreen">
        <button class="close-fullscreen" onclick="closeFullscreen()">&times;</button>
        <img class="fullscreen-img" id="fullscreenImg" src="" alt="">
        <div class="zoom-controls">
            <button class="zoom-btn" onclick="zoomOut()">-</button>
            <button class="zoom-btn" onclick="resetZoom()">100%</button>
            <button class="zoom-btn" onclick="zoomIn()">+</button>
        </div>
    </div>

    <script>
        // –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—ä–µ–∫—Ç –¥–∞–Ω–Ω—ã—Ö
        let currentData = {
            attractions: [],
            properties: [],
            developers: [],
            about: {
                text: "",
                images: [],
                video: ""
            }
        };

        // –î–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        const defaultData = {
            attractions: [
                {
                    id: 1,
                    title: "–ë—É—Ä–¥–∂-–•–∞–ª–∏—Ñ–∞",
                    description: "–°–∞–º–æ–µ –≤—ã—Å–æ–∫–æ–µ –∑–¥–∞–Ω–∏–µ –≤ –º–∏—Ä–µ –≤—ã—Å–æ—Ç–æ–π 828 –º–µ—Ç—Ä–æ–≤, —Å–∏–º–≤–æ–ª —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –î—É–±–∞—è.",
                    image: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMDA4OGNjIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5CdXJqIEtoYWxpZmE8L3RleHQ+PHRleHQgeD0iNTAlIiB5PSI3MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPjgyOCBtPC90ZXh0Pjwvc3ZnPg==",
                    video: "",
                    images: []
                },
                {
                    id: 2,
                    title: "–ü–∞–ª—å–º–∞ –î–∂—É–º–µ–π—Ä–∞",
                    description: "–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∞—Ä—Ö–∏–ø–µ–ª–∞–≥ –≤ —Ñ–æ—Ä–º–µ –ø–∞–ª—å–º—ã, –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –î—É–±–∞—è.",
                    image: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMDBjYzg4Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QYWxtIEp1bWVpcmE8L3RleHQ+PHRleHQgeD0iNTAlIiB5PSI3MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPkFydGlmaWNpYWwgaXNsYW5kPC90ZXh0Pjwvc3ZnPg==",
                    video: "",
                    images: []
                }
            ],
            properties: [],
            developers: [
                {
                    id: 1,
                    name: "Emaar Properties",
                    icon: "üèôÔ∏è",
                    projects: 0,
                    video: ""
                },
                {
                    id: 2,
                    name: "Damac Properties",
                    icon: "üè¢",
                    projects: 0,
                    video: ""
                },
                {
                    id: 3,
                    name: "Nakheel",
                    icon: "üå¥",
                    projects: 0,
                    video: ""
                },
                {
                    id: 4,
                    name: "Sobha Realty",
                    icon: "üèòÔ∏è",
                    projects: 0,
                    video: ""
                }
            ],
            about: {
                text: "<h3>–ê–Ω–Ω–∞ –°–º–∏—Ä–Ω–æ–≤–∞</h3><p><strong>–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –î—É–±–∞—è</strong></p><p>–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –Ω–∞ —Ä—ã–Ω–∫–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –û–ê–≠ - –±–æ–ª–µ–µ 7 –ª–µ—Ç. –ü–æ–º–æ–≥—É –ø–æ–¥–æ–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –ø–æ–¥ –≤–∞—à–∏ —Ü–µ–ª–∏: –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏, –ü–ú–ñ –∏–ª–∏ –æ—Ç–¥—ã—Ö.</p><p>–°–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–≥–µ–Ω—Ç —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º –æ—Ç –≤–µ–¥—É—â–∏—Ö –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–æ–≤.</p>",
                images: [],
                video: ""
            }
        };

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage
        function loadData() {
            console.log('–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...');
            const savedData = localStorage.getItem('dubaiPropertiesData');
            if (savedData) {
                try {
                    currentData = JSON.parse(savedData);
                    console.log('–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ localStorage:', currentData);
                } catch (e) {
                    console.log('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É—é –¥–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é', e);
                    currentData = JSON.parse(JSON.stringify(defaultData));
                }
            } else {
                console.log('–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É—é –¥–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é');
                currentData = JSON.parse(JSON.stringify(defaultData));
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–æ–≤ –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç
            if (!currentData.properties) currentData.properties = [];
            if (!currentData.attractions) currentData.attractions = defaultData.attractions;
            if (!currentData.developers) currentData.developers = defaultData.developers;
            if (!currentData.about) currentData.about = defaultData.about;
            if (!currentData.about.images) currentData.about.images = [];
            if (!currentData.about.video) currentData.about.video = "";
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–µ–∫—Ç–æ–≤ —É –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–æ–≤
            updateDeveloperProjectsCount();
            
            renderAll();
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ localStorage
        function saveData() {
            console.log('–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö...', currentData);
            try {
                localStorage.setItem('dubaiPropertiesData', JSON.stringify(currentData));
                console.log('–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:', e);
                alert('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –≤–∫–ª—é—á–µ–Ω –ª–∏ localStorage –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ.');
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ —É –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–æ–≤
        function updateDeveloperProjectsCount() {
            currentData.developers.forEach(developer => {
                developer.projects = currentData.properties.filter(p => p.developerId === developer.id).length;
            });
        }

        // –†–µ–Ω–¥–µ—Ä –≤—Å–µ–≥–æ
        function renderAll() {
            renderAttractions();
            renderProperties();
            renderDevelopers();
            renderAbout();
            updateDeveloperFilter();
        }

        // –†–µ–Ω–¥–µ—Ä –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π
        function renderAttractions() {
            const container = document.getElementById('attractionsContainer');
            if (!container) return;
            
            if (currentData.attractions.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-landmark"></i>
                        <h3>–î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</h3>
                        <p>–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = currentData.attractions.map(attr => {
                const hasVideo = attr.video ? 'has-video' : '';
                const firstImage = attr.images && attr.images.length > 0 ? attr.images[0] : attr.image;
                const imageCount = (attr.images && attr.images.length > 0) ? attr.images.length : (attr.image ? 1 : 0);
                
                return `
                    <div class="attraction-card" onclick="viewAttractionDetail(${attr.id})">
                        <div class="attraction-img ${hasVideo}" style="background-image: url('${firstImage || ''}')">
                            ${imageCount > 1 ? `<div class="image-count">${imageCount} —Ñ–æ—Ç–æ</div>` : ''}
                            ${attr.video ? '<div class="video-icon"><i class="fas fa-play-circle"></i></div>' : ''}
                            <div class="attraction-view-btn">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å</div>
                        </div>
                        <div class="attraction-content">
                            <h3>${attr.title}</h3>
                            <p>${attr.description.substring(0, 100)}${attr.description.length > 100 ? '...' : ''}</p>
                            <div class="attraction-actions">
                                <button class="btn btn-outline" onclick="event.stopPropagation(); openEditModal('attraction', ${attr.id})">
                                    <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                                </button>
                                <button class="btn btn-outline" onclick="event.stopPropagation(); deleteAttraction(${attr.id})" style="color: #ff4444; border-color: #ff4444;">
                                    <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // –†–µ–Ω–¥–µ—Ä –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
        function renderProperties() {
            const container = document.getElementById('propertiesContainer');
            if (!container) return;
            
            container.innerHTML = '';
            
            if (currentData.properties.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-building"></i>
                        <h3>–û–±—ä–µ–∫—Ç—ã –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</h3>
                        <p>–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π –æ–±—ä–µ–∫—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</p>
                    </div>
                `;
                return;
            }
            
            currentData.properties.forEach(property => {
                const developer = currentData.developers.find(d => d.id === property.developerId);
                const card = createPropertyCard(property, developer);
                container.appendChild(card);
            });
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –æ–±—ä–µ–∫—Ç–∞
        function createPropertyCard(property, developer) {
            const card = document.createElement('div');
            card.className = 'property-card';
            
            let carouselHTML = '';
            const images = property.images || [];
            if (images.length > 0) {
                carouselHTML = createCarouselHTML(property);
            } else if (property.image) {
                carouselHTML = `
                    <div class="carousel-container">
                        <div class="carousel-slide active" style="background-image: url('${property.image}')"></div>
                    </div>
                `;
            } else {
                carouselHTML = `
                    <div class="carousel-container">
                        <div class="carousel-slide active no-image">
                            <i class="fas fa-home"></i>
                            <div>–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>
                        </div>
                    </div>
                `;
            }
            
            const shortDesc = property.shortDescription || 
                            (property.description ? property.description.substring(0, 100) + '...' : '–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è');
            
            card.innerHTML = `
                <div class="property-image">
                    ${carouselHTML}
                    ${property.badge ? `<div class="property-badge">${property.badge}</div>` : ''}
                </div>
                <div class="property-content">
                    <h3 class="property-title">${property.title}</h3>
                    <span class="property-developer">${developer ? developer.name : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫'}</span>
                    <p>${shortDesc}</p>
                    <div class="property-details">
                        <div>
                            <div>–ü–ª–æ—â–∞–¥—å</div>
                            <div><strong>${property.area || 0} –º¬≤</strong></div>
                        </div>
                        <div>
                            <div>–¶–µ–Ω–∞</div>
                            <div class="property-price">–æ—Ç $${(property.price || 0).toLocaleString()}</div>
                        </div>
                    </div>
                    <div class="property-actions">
                        <button class="btn btn-outline" onclick="editProperty(${property.id})">
                            <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                        <button class="btn" onclick="viewPropertyDetail(${property.id})">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
                        <button class="btn btn-outline" onclick="deleteProperty(${property.id})" style="color: #ff4444; border-color: #ff4444;">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `;
            
            return card;
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ HTML –¥–ª—è –∫–∞—Ä—É—Å–µ–ª–∏
        function createCarouselHTML(property) {
            const images = property.images || [];
            const carouselId = `carousel-${property.id}`;
            
            let slidesHTML = images.map((img, index) => `
                <div class="carousel-slide ${index === 0 ? 'active' : ''}" 
                     style="background-image: url('${img}')"></div>
            `).join('');
            
            let controlsHTML = '';
            if (images.length > 1) {
                controlsHTML = `
                    <button class="carousel-btn prev" onclick="prevSlide(${property.id})">‚Äπ</button>
                    <button class="carousel-btn next" onclick="nextSlide(${property.id})">‚Ä∫</button>
                    <div class="carousel-dots">
                        ${images.map((img, index) => `
                            <span class="carousel-dot ${index === 0 ? 'active' : ''}" 
                                  onclick="goToSlide(${property.id}, ${index})"></span>
                        `).join('')}
                    </div>
                `;
            }
            
            return `
                <div class="carousel-container" id="${carouselId}">
                    ${slidesHTML}
                    ${controlsHTML}
                </div>
            `;
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–∞—Ä—É—Å–µ–ª–∏
        function prevSlide(propertyId) {
            const carousel = document.getElementById(`carousel-${propertyId}`);
            if (!carousel) return;
            
            const slides = carousel.querySelectorAll('.carousel-slide');
            const dots = carousel.querySelectorAll('.carousel-dot');
            
            let currentIndex = 0;
            slides.forEach((slide, index) => {
                if (slide.classList.contains('active')) {
                    currentIndex = index;
                }
            });
            
            slides[currentIndex].classList.remove('active');
            if (dots[currentIndex]) dots[currentIndex].classList.remove('active');
            
            const newIndex = (currentIndex - 1 + slides.length) % slides.length;
            slides[newIndex].classList.add('active');
            if (dots[newIndex]) dots[newIndex].classList.add('active');
        }

        function nextSlide(propertyId) {
            const carousel = document.getElementById(`carousel-${propertyId}`);
            if (!carousel) return;
            
            const slides = carousel.querySelectorAll('.carousel-slide');
            const dots = carousel.querySelectorAll('.carousel-dot');
            
            let currentIndex = 0;
            slides.forEach((slide, index) => {
                if (slide.classList.contains('active')) {
                    currentIndex = index;
                }
            });
            
            slides[currentIndex].classList.remove('active');
            if (dots[currentIndex]) dots[currentIndex].classList.remove('active');
            
            const newIndex = (currentIndex + 1) % slides.length;
            slides[newIndex].classList.add('active');
            if (dots[newIndex]) dots[newIndex].classList.add('active');
        }

        function goToSlide(propertyId, index) {
            const carousel = document.getElementById(`carousel-${propertyId}`);
            if (!carousel) return;
            
            const slides = carousel.querySelectorAll('.carousel-slide');
            const dots = carousel.querySelectorAll('.carousel-dot');
            
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            
            slides[index].classList.add('active');
            if (dots[index]) dots[index].classList.add('active');
        }

        // –†–µ–Ω–¥–µ—Ä –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–æ–≤
        function renderDevelopers() {
            const container = document.getElementById('developersContainer');
            if (!container) return;
            
            if (currentData.developers.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-city"></i>
                        <h3>–ó–∞—Å—Ç—Ä–æ–π—â–∏–∫–∏ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</h3>
                        <p>–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = currentData.developers.map(dev => {
                return `
                    <div class="developer-card" onclick="viewDeveloperDetail(${dev.id})">
                        <div class="developer-logo">${dev.icon || 'üè¢'}</div>
                        <h3>${dev.name}</h3>
                        <div class="developer-projects">${dev.projects || 0} –æ–±—ä–µ–∫—Ç–æ–≤</div>
                        <div class="developer-actions">
                            <button class="btn btn-outline" onclick="event.stopPropagation(); openEditModal('developer', ${dev.id})">
                                <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                            </button>
                            <button class="btn btn-outline" onclick="event.stopPropagation(); deleteDeveloper(${dev.id})" style="color: #ff4444; border-color: #ff4444;">
                                <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // –†–µ–Ω–¥–µ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ "–û–±–æ –º–Ω–µ"
        function renderAbout() {
            const aboutImage = document.getElementById('aboutImage');
            const aboutText = document.getElementById('aboutText');
            
            if (aboutImage) {
                if (currentData.about.images && currentData.about.images.length > 0) {
                    aboutImage.style.backgroundImage = `url('${currentData.about.images[0]}')`;
                    aboutImage.innerHTML = '';
                } else {
                    aboutImage.style.backgroundImage = 'none';
                    aboutImage.innerHTML = '<div class="no-image"><i class="fas fa-user" style="font-size: 3rem; margin-bottom: 1rem;"></i><div>–§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è</div></div>';
                }
            }
            
            if (aboutText) {
                let aboutHTML = currentData.about.text || '<p>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞</p>';
                if (currentData.about.video) {
                    aboutHTML += `<div class="video-container">
                        <iframe src="${getEmbedVideoUrl(currentData.about.video)}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>`;
                }
                aboutText.innerHTML = aboutHTML;
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–æ–≤
        function updateDeveloperFilter() {
            const filter = document.getElementById('developerFilter');
            if (!filter) return;
            
            filter.innerHTML = '<option value="all">–í—Å–µ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∏</option>';
            currentData.developers.forEach(dev => {
                const option = document.createElement('option');
                option.value = dev.id;
                option.textContent = dev.name;
                filter.appendChild(option);
            });
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        function openEditModal(type, id = null) {
            const modal = document.getElementById('editModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalContent = document.getElementById('modalContent');
            
            if (!modal || !modalTitle || !modalContent) {
                console.log('Modal elements not found!');
                return;
            }
            
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            let title = '';
            let content = '';
            
            if (type === 'property') {
                if (id === 'new') {
                    title = '–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏';
                    content = getPropertyForm();
                } else {
                    title = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏';
                    const property = currentData.properties.find(p => p.id === id);
                    if (!property) {
                        alert('–û–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                        closeEditModal();
                        return;
                    }
                    content = getPropertyForm(property);
                }
            } else if (type === 'about') {
                title = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ–±–µ';
                content = getAboutForm();
            } else if (type === 'attraction') {
                if (id === 'new') {
                    title = '–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å';
                    content = getAttractionForm();
                } else {
                    title = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å';
                    const attraction = currentData.attractions.find(a => a.id === id);
                    if (!attraction) {
                        alert('–î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!');
                        closeEditModal();
                        return;
                    }
                    content = getAttractionForm(attraction);
                }
            } else if (type === 'developer') {
                if (id === 'new') {
                    title = '–î–æ–±–∞–≤–∏—Ç—å –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞';
                    content = getDeveloperForm();
                } else {
                    title = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞';
                    const developer = currentData.developers.find(d => d.id === id);
                    if (!developer) {
                        alert('–ó–∞—Å—Ç—Ä–æ–π—â–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                        closeEditModal();
                        return;
                    }
                    content = getDeveloperForm(developer);
                }
            } else {
                title = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ';
                content = '<p>–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</p>';
            }
            
            modalTitle.textContent = title;
            modalContent.innerHTML = content;
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è drag-and-drop –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ä–º—ã
            setTimeout(initDragAndDrop, 100);
        }

        // –§–æ—Ä–º–∞ "–û–±–æ –º–Ω–µ"
        function getAboutForm() {
            return `
                <div id="aboutFormContainer">
                    <div class="form-group">
                        <label for="aboutTextInput">–¢–µ–∫—Å—Ç –æ —Å–µ–±–µ (HTML –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)</label>
                        <textarea id="aboutTextInput" rows="10">${currentData.about.text || ''}</textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="aboutVideoInput">–í–∏–¥–µ–æ (YouTube —Å—Å—ã–ª–∫–∞)</label>
                        <input type="url" id="aboutVideoInput" value="${currentData.about.video || ''}" placeholder="https://www.youtube.com/watch?v=...">
                    </div>
                    
                    <div class="form-group">
                        <label>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ø—Ä–æ—Ñ–∏–ª—è</label>
                        <div class="drag-drop-area" id="aboutDragDropArea">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>–ö–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</p>
                            <p class="drag-drop-text">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: 300x400px</p>
                            <input type="file" id="aboutImageUpload" style="display: none;" accept="image/*">
                        </div>
                        
                        <div class="image-preview" id="aboutImagePreview">
                            ${currentData.about.images && currentData.about.images.length > 0 ? `
                                <div class="preview-item">
                                    <img src="${currentData.about.images[0]}" alt="–§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è">
                                    <button type="button" class="remove-image" onclick="removeAboutImage()">&times;</button>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn" onclick="saveAbout()">
                            <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                        </button>
                        <button type="button" class="btn btn-outline" onclick="closeEditModal()">–û—Ç–º–µ–Ω–∞</button>
                    </div>
                </div>
            `;
        }

        // –§–æ—Ä–º–∞ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        function getAttractionForm(attraction = null) {
            const isEdit = attraction !== null;
            const attractionId = isEdit ? attraction.id : '';
            
            let imagePreview = '';
            const images = isEdit ? (attraction.images || []) : [];
            if (images.length > 0) {
                imagePreview = images.map((img, index) => `
                    <div class="preview-item">
                        <img src="${img}" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ${index + 1}">
                        <button type="button" class="remove-image" onclick="removeAttractionImage(${attractionId}, ${index})">&times;</button>
                    </div>
                `).join('');
            }
            
            return `
                <div id="attractionFormContainer">
                    <input type="hidden" id="attractionId" value="${attractionId}">
                    
                    <div class="form-group">
                        <label for="attractionTitle">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="attractionTitle" value="${isEdit ? attraction.title : ''}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="attractionDescription">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="attractionDescription" required>${isEdit ? attraction.description : ''}</textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="attractionVideo">–í–∏–¥–µ–æ (YouTube —Å—Å—ã–ª–∫–∞)</label>
                        <input type="url" id="attractionVideo" value="${isEdit ? (attraction.video || '') : ''}" placeholder="https://www.youtube.com/watch?v=...">
                    </div>
                    
                    <div class="form-group">
                        <label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)</label>
                        <div class="drag-drop-area" id="attractionDragDropArea">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>–ö–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</p>
                            <p class="drag-drop-text">–ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–º–∞–∫—Å. 10)</p>
                            <input type="file" id="attractionImageUpload" multiple style="display: none;" accept="image/*">
                        </div>
                        
                        <div class="image-preview" id="attractionImagePreview">
                            ${imagePreview}
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn" onclick="saveAttraction()">
                            <i class="fas fa-save"></i> ${isEdit ? '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è' : '–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å'}
                        </button>
                        <button type="button" class="btn btn-outline" onclick="closeEditModal()">–û—Ç–º–µ–Ω–∞</button>
                        ${isEdit ? `<button type="button" class="btn btn-outline" onclick="deleteAttraction(${attractionId})" style="color: #ff4444; margin-left: 10px;">
                            <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
                        </button>` : ''}
                    </div>
                </div>
            `;
        }

        // –§–æ—Ä–º–∞ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞
        function getDeveloperForm(developer = null) {
            const isEdit = developer !== null;
            const developerId = isEdit ? developer.id : '';
            
            const projectsCount = isEdit ? currentData.properties.filter(p => p.developerId === developerId).length : 0;
            
            return `
                <div id="developerFormContainer">
                    <input type="hidden" id="developerId" value="${developerId}">
                    
                    <div class="form-group">
                        <label for="developerName">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="developerName" value="${isEdit ? developer.name : ''}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="developerIcon">–ò–∫–æ–Ω–∫–∞ (—ç–º–æ–¥–∑–∏)</label>
                        <input type="text" id="developerIcon" value="${isEdit ? developer.icon : 'üè¢'}" placeholder="üè¢, üèôÔ∏è, üå¥ –∏ —Ç.–¥.">
                    </div>
                    
                    <div class="form-group">
                        <label for="developerVideo">–í–∏–¥–µ–æ (YouTube —Å—Å—ã–ª–∫–∞)</label>
                        <input type="url" id="developerVideo" value="${isEdit ? (developer.video || '') : ''}" placeholder="https://www.youtube.com/watch?v=...">
                    </div>
                    
                    <div class="form-group">
                        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤: <strong>${projectsCount}</strong></label>
                        <p style="color: #666; font-size: 0.9rem;">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º</p>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn" onclick="saveDeveloper()">
                            <i class="fas fa-save"></i> ${isEdit ? '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è' : '–î–æ–±–∞–≤–∏—Ç—å –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞'}
                        </button>
                        <button type="button" class="btn btn-outline" onclick="closeEditModal()">–û—Ç–º–µ–Ω–∞</button>
                        ${isEdit ? `<button type="button" class="btn btn-outline" onclick="deleteDeveloper(${developerId})" style="color: #ff4444; margin-left: 10px;">
                            <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
                        </button>` : ''}
                    </div>
                </div>
            `;
        }

        // –§–æ—Ä–º–∞ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
        function getPropertyForm(property = null) {
            const isEdit = property !== null;
            const propertyId = isEdit ? property.id : '';
            
            let developerOptions = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞</option>';
            currentData.developers.forEach(dev => {
                const selected = isEdit && property.developerId === dev.id ? 'selected' : '';
                developerOptions += `<option value="${dev.id}" ${selected}>${dev.name}</option>`;
            });
            
            let imagePreview = '';
            const images = isEdit ? (property.images || []) : [];
            if (images.length > 0) {
                imagePreview = images.map((img, index) => `
                    <div class="preview-item">
                        <img src="${img}" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ${index + 1}">
                        <button type="button" class="remove-image" onclick="removePropertyImage(${propertyId}, ${index})">&times;</button>
                    </div>
                `).join('');
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –≤–∏–¥–µ–æ –ø—Ä–µ–≤—å—é
            let videoPreview = '';
            if (isEdit && property.video && property.video.startsWith('data:')) {
                videoPreview = `
                    <div class="video-preview">
                        <video controls style="width: 100%; max-height: 300px; border-radius: 5px;">
                            <source src="${property.video}" type="video/mp4">
                            –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
                        </video>
                        <button type="button" class="btn btn-outline" onclick="removeVideoPreview()" style="margin-top: 0.5rem; font-size: 0.8rem;">
                            <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å –≤–∏–¥–µ–æ
                        </button>
                    </div>
                `;
            }
            
            return `
                <div id="propertyFormContainer">
                    <input type="hidden" id="propertyId" value="${propertyId}">
                    
                    <div class="form-group">
                        <label for="propertyTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ *</label>
                        <input type="text" id="propertyTitle" value="${isEdit ? property.title : ''}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="propertyDescription">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="propertyDescription" required>${isEdit ? property.description : ''}</textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="shortDescription">–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏)</label>
                        <textarea id="shortDescription">${isEdit ? (property.shortDescription || '') : ''}</textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="propertyPrice">–¶–µ–Ω–∞ –æ—Ç, $ *</label>
                        <input type="number" id="propertyPrice" value="${isEdit ? property.price : ''}" required min="0" step="1000">
                    </div>
                    
                    <div class="form-group">
                        <label for="propertyArea">–ü–ª–æ—â–∞–¥—å, –º¬≤ *</label>
                        <input type="number" id="propertyArea" value="${isEdit ? property.area : ''}" required min="0" step="1">
                    </div>
                    
                    <div class="form-group">
                        <label>–í–∏–¥–µ–æ (YouTube —Å—Å—ã–ª–∫–∞ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ–º)</label>
                        <div class="video-drag-drop-area" id="propertyVideoDragDropArea">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≤–∏–¥–µ–æ—Ñ–∞–π–ª —Å—é–¥–∞ –∏–ª–∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏</p>
                            <p class="drag-drop-text">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è MP4, WebM, OGG (–º–∞–∫—Å. 50MB)</p>
                            <input type="file" id="propertyVideoUpload" class="hidden-video-input" accept="video/*">
                        </div>
                        <div class="video-or-text">–ò–õ–ò</div>
                        <input type="url" id="propertyVideo" value="${isEdit && !property.video.startsWith('data:') ? (property.video || '') : ''}" placeholder="https://www.youtube.com/watch?v=...">
                        <div id="propertyVideoPreview">${videoPreview}</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="propertyLocationLink">–°—Å—ã–ª–∫–∞ –Ω–∞ –ª–æ–∫–∞—Ü–∏—é</label>
                        <input type="url" id="propertyLocationLink" value="${isEdit ? (property.locationLink || '') : ''}" placeholder="https://maps.google.com/...">
                    </div>
                    
                    <div class="form-group">
                        <label for="propertyDeveloper">–ó–∞—Å—Ç—Ä–æ–π—â–∏–∫ *</label>
                        <select id="propertyDeveloper" required>
                            ${developerOptions}
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="propertyBadge">–ü–æ–º–µ—Ç–∫–∞ (–±–µ–π–¥–∂)</label>
                        <input type="text" id="propertyBadge" value="${isEdit ? (property.badge || '') : ''}" placeholder="Premium, Luxury, Exclusive">
                    </div>
                    
                    <div class="form-group">
                        <label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ (–º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)</label>
                        <div class="drag-drop-area" id="dragDropArea">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>–ö–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã</p>
                            <p class="drag-drop-text">–ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–º–∞–∫—Å. 10)</p>
                            <input type="file" id="imageUpload" multiple style="display: none;" accept="image/*">
                        </div>
                        
                        <div class="image-preview" id="imagePreview">
                            ${imagePreview}
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn" onclick="saveProperty()" id="savePropertyBtn">
                            <i class="fas fa-save"></i> ${isEdit ? '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è' : '–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç'}
                        </button>
                        <button type="button" class="btn btn-outline" onclick="closeEditModal()">–û—Ç–º–µ–Ω–∞</button>
                        ${isEdit ? `<button type="button" class="btn btn-outline" onclick="deleteProperty(${propertyId})" style="color: #ff4444; margin-left: 10px;">
                            <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å –æ–±—ä–µ–∫—Ç
                        </button>` : ''}
                    </div>
                </div>
            `;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è drag-and-drop
        function initDragAndDrop() {
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ drag-and-drop –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
            const dragDropAreas = document.querySelectorAll('.drag-drop-area');
            
            dragDropAreas.forEach(area => {
                area.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.classList.add('dragover');
                });
                
                area.addEventListener('dragenter', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.classList.add('dragover');
                });
                
                area.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.classList.remove('dragover');
                });
                
                area.addEventListener('drop', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.classList.remove('dragover');
                    
                    const files = e.dataTransfer.files;
                    const areaId = this.id;
                    
                    handleImageUpload(files, areaId);
                });
                
                // –ö–ª–∏–∫ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞
                area.addEventListener('click', function() {
                    const areaId = this.id;
                    let fileInputId = '';
                    
                    if (areaId.includes('about')) {
                        fileInputId = 'aboutImageUpload';
                    } else if (areaId.includes('attraction')) {
                        fileInputId = 'attractionImageUpload';
                    } else {
                        fileInputId = 'imageUpload';
                    }
                    
                    const fileInput = document.getElementById(fileInputId);
                    if (fileInput) {
                        fileInput.click();
                    }
                });
            });
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ drag-and-drop –¥–ª—è –≤–∏–¥–µ–æ
            const videoDragDropAreas = document.querySelectorAll('.video-drag-drop-area');
            
            videoDragDropAreas.forEach(area => {
                area.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.classList.add('dragover');
                });
                
                area.addEventListener('dragenter', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.classList.add('dragover');
                });
                
                area.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.classList.remove('dragover');
                });
                
                area.addEventListener('drop', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.classList.remove('dragover');
                    
                    const files = e.dataTransfer.files;
                    const areaId = this.id;
                    
                    handleVideoUpload(files, areaId);
                });
                
                // –ö–ª–∏–∫ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞
                area.addEventListener('click', function() {
                    const areaId = this.id;
                    let fileInputId = '';
                    
                    if (areaId.includes('propertyVideo')) {
                        fileInputId = 'propertyVideoUpload';
                    }
                    
                    const fileInput = document.getElementById(fileInputId);
                    if (fileInput) {
                        fileInput.click();
                    }
                });
            });
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö input'–æ–≤
            const imageUploads = [
                { inputId: 'aboutImageUpload', type: 'about' },
                { inputId: 'attractionImageUpload', type: 'attraction' },
                { inputId: 'imageUpload', type: 'property' }
            ];
            
            imageUploads.forEach(item => {
                const input = document.getElementById(item.inputId);
                if (input) {
                    input.addEventListener('change', function(e) {
                        handleImageUpload(e.target.files, item.type);
                    });
                }
            });
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è –≤–∏–¥–µ–æ input'–æ–≤
            const videoUploads = [
                { inputId: 'propertyVideoUpload', type: 'propertyVideo' }
            ];
            
            videoUploads.forEach(item => {
                const input = document.getElementById(item.inputId);
                if (input) {
                    input.addEventListener('change', function(e) {
                        handleVideoUpload(e.target.files, 'propertyVideoDragDropArea');
                    });
                }
            });
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        function handleImageUpload(files, type) {
            const fileArray = Array.from(files).filter(file => 
                file.type.startsWith('image/')
            );
            
            if (fileArray.length === 0) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π');
                return;
            }
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—Ä–µ–≤—å—é-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
            let previewId = '';
            if (type === 'about') {
                previewId = 'aboutImagePreview';
            } else if (type === 'attraction') {
                previewId = 'attractionImagePreview';
            } else {
                previewId = 'imagePreview';
            }
            
            const preview = document.getElementById(previewId);
            if (!preview) return;
            
            // –î–ª—è about - –∑–∞–º–µ–Ω—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –¥–ª—è –¥—Ä—É–≥–∏—Ö - –¥–æ–±–∞–≤–ª—è–µ–º
            const replace = type === 'about';
            const maxImages = type === 'about' ? 1 : 10;
            
            if (replace) {
                preview.innerHTML = '';
            }
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
            const imagesToAdd = fileArray.slice(0, maxImages - (replace ? 0 : preview.children.length));
            
            if (imagesToAdd.length === 0) {
                alert(`–ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–∞–∫—Å–∏–º—É–º ${maxImages} –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π`);
                return;
            }
            
            imagesToAdd.forEach(file => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const imgUrl = e.target.result;
                    
                    const previewItem = document.createElement('div');
                    previewItem.className = 'preview-item';
                    previewItem.innerHTML = `
                        <img src="${imgUrl}" alt="–ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">
                        <button type="button" class="remove-image" onclick="this.parentElement.remove()">&times;</button>
                    `;
                    preview.appendChild(previewItem);
                };
                reader.readAsDataURL(file);
            });
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ
        function handleVideoUpload(files, areaId) {
            console.log('–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ:', files, areaId);
            
            const videoFiles = Array.from(files).filter(file => 
                file.type.startsWith('video/') || 
                ['video/mp4', 'video/webm', 'video/ogg', 'video/quicktime', 'video/x-msvideo'].includes(file.type)
            );
            
            if (videoFiles.length === 0) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∏–¥–µ–æ—Ñ–∞–π–ª (MP4, WebM, OGG, MOV, AVI)');
                return;
            }
            
            // –î–ª—è –≤–∏–¥–µ–æ –æ–±—ã—á–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ñ–∞–π–ª
            const videoFile = videoFiles[0];
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–º–∞–∫—Å–∏–º—É–º 50MB)
            if (videoFile.size > 50 * 1024 * 1024) {
                alert('–í–∏–¥–µ–æ—Ñ–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 50MB');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const videoDataUrl = e.target.result;
                
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—Ä–µ–≤—å—é-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
                let previewId = '';
                if (areaId.includes('propertyVideo')) {
                    previewId = 'propertyVideoPreview';
                }
                
                const preview = document.getElementById(previewId);
                if (preview) {
                    preview.innerHTML = `
                        <div class="video-preview">
                            <video controls style="width: 100%; max-height: 300px; border-radius: 5px;">
                                <source src="${videoDataUrl}" type="${videoFile.type}">
                                –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
                            </video>
                            <button type="button" class="btn btn-outline" onclick="removeVideoPreview()" style="margin-top: 0.5rem; font-size: 0.8rem;">
                                <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å –≤–∏–¥–µ–æ
                            </button>
                        </div>
                    `;
                    
                    // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ YouTube —Å—Å—ã–ª–∫–∏
                    const videoInput = document.getElementById('propertyVideo');
                    if (videoInput) {
                        videoInput.value = videoDataUrl;
                    }
                    
                    alert('–í–∏–¥–µ–æ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ!');
                }
            };
            
            reader.onerror = function() {
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤–∏–¥–µ–æ');
            };
            
            reader.readAsDataURL(videoFile);
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ –ø—Ä–µ–≤—å—é
        function removeVideoPreview() {
            const preview = document.getElementById('propertyVideoPreview');
            if (preview) {
                preview.innerHTML = '';
            }
            
            const videoInput = document.getElementById('propertyVideo');
            if (videoInput) {
                videoInput.value = '';
            }
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ "–û–±–æ –º–Ω–µ"
        function removeAboutImage() {
            const preview = document.getElementById('aboutImagePreview');
            if (preview) {
                preview.innerHTML = '';
            }
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        function removeAttractionImage(attractionId, index) {
            const attraction = currentData.attractions.find(a => a.id === attractionId);
            if (!attraction) return;
            
            if (attraction.images && attraction.images.length > index) {
                attraction.images.splice(index, 1);
                saveData();
                openEditModal('attraction', attractionId);
            }
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞
        function removePropertyImage(propertyId, index) {
            const property = currentData.properties.find(p => p.id === propertyId);
            if (property && property.images) {
                property.images.splice(index, 1);
                saveData();
                openEditModal('property', propertyId);
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ "–û–±–æ –º–Ω–µ"
        function saveAbout() {
            const textInput = document.getElementById('aboutTextInput');
            const videoInput = document.getElementById('aboutVideoInput');
            
            if (!textInput) {
                alert('–û—à–∏–±–∫–∞: –ø–æ–ª–µ —Ç–µ–∫—Å—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ');
                return;
            }
            
            const text = textInput.value.trim();
            if (!text) {
                alert('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –æ —Å–µ–±–µ');
                textInput.focus();
                return;
            }
            
            currentData.about.text = text;
            currentData.about.video = videoInput ? videoInput.value.trim() : '';
            
            const preview = document.getElementById('aboutImagePreview');
            if (preview) {
                const img = preview.querySelector('img');
                if (img && img.src.startsWith('data:')) {
                    currentData.about.images = [img.src];
                } else if (preview.innerHTML.trim() === '') {
                    currentData.about.images = [];
                }
            }
            
            saveData();
            renderAbout();
            closeEditModal();
            alert('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!');
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        function saveAttraction() {
            const titleInput = document.getElementById('attractionTitle');
            const descriptionInput = document.getElementById('attractionDescription');
            const videoInput = document.getElementById('attractionVideo');
            
            if (!titleInput || !descriptionInput) {
                alert('–û—à–∏–±–∫–∞: –Ω–µ –≤—Å–µ –ø–æ–ª—è –Ω–∞–π–¥–µ–Ω—ã');
                return;
            }
            
            const title = titleInput.value.trim();
            const description = descriptionInput.value.trim();
            const video = videoInput ? videoInput.value.trim() : '';
            
            if (!title) {
                alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏');
                titleInput.focus();
                return;
            }
            
            if (!description) {
                alert('–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏');
                descriptionInput.focus();
                return;
            }
            
            const idInput = document.getElementById('attractionId');
            const preview = document.getElementById('attractionImagePreview');
            
            const images = [];
            if (preview) {
                const imgElements = preview.querySelectorAll('img');
                imgElements.forEach(img => {
                    if (img.src && img.src.startsWith('data:')) {
                        images.push(img.src);
                    }
                });
            }
            
            if (idInput.value && idInput.value !== '') {
                const attractionId = parseInt(idInput.value);
                const index = currentData.attractions.findIndex(a => a.id === attractionId);
                
                if (index !== -1) {
                    currentData.attractions[index] = {
                        ...currentData.attractions[index],
                        title,
                        description,
                        video,
                        images: images.length > 0 ? images : currentData.attractions[index].images
                    };
                }
            } else {
                const newId = currentData.attractions.length > 0 
                    ? Math.max(...currentData.attractions.map(a => a.id)) + 1 
                    : 1;
                
                const newAttraction = {
                    id: newId,
                    title,
                    description,
                    video,
                    images: images
                };
                
                currentData.attractions.push(newAttraction);
            }
            
            saveData();
            renderAttractions();
            closeEditModal();
            alert(idInput.value ? '–î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!' : '–î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!');
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞
        function saveDeveloper() {
            const nameInput = document.getElementById('developerName');
            const iconInput = document.getElementById('developerIcon');
            const videoInput = document.getElementById('developerVideo');
            
            if (!nameInput) {
                alert('–û—à–∏–±–∫–∞: –Ω–µ –≤—Å–µ –ø–æ–ª—è –Ω–∞–π–¥–µ–Ω—ã');
                return;
            }
            
            const name = nameInput.value.trim();
            const icon = iconInput ? iconInput.value.trim() : 'üè¢';
            const video = videoInput ? videoInput.value.trim() : '';
            
            if (!name) {
                alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞');
                nameInput.focus();
                return;
            }
            
            const idInput = document.getElementById('developerId');
            
            if (idInput.value && idInput.value !== '') {
                const developerId = parseInt(idInput.value);
                const index = currentData.developers.findIndex(d => d.id === developerId);
                
                if (index !== -1) {
                    currentData.developers[index] = {
                        ...currentData.developers[index],
                        name,
                        icon,
                        video
                    };
                }
            } else {
                const newId = currentData.developers.length > 0 
                    ? Math.max(...currentData.developers.map(d => d.id)) + 1 
                    : 1;
                
                const newDeveloper = {
                    id: newId,
                    name,
                    icon,
                    video,
                    projects: 0
                };
                
                currentData.developers.push(newDeveloper);
            }
            
            saveData();
            renderDevelopers();
            updateDeveloperFilter();
            closeEditModal();
            alert(idInput.value ? '–ó–∞—Å—Ç—Ä–æ–π—â–∏–∫ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω!' : '–ó–∞—Å—Ç—Ä–æ–π—â–∏–∫ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!');
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
        function saveProperty() {
            console.log('–ù–∞—á–∞–ª–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞...');
            
            // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã —Ñ–æ—Ä–º—ã
            const titleInput = document.getElementById('propertyTitle');
            const descriptionInput = document.getElementById('propertyDescription');
            const priceInput = document.getElementById('propertyPrice');
            const areaInput = document.getElementById('propertyArea');
            const developerInput = document.getElementById('propertyDeveloper');
            const videoInput = document.getElementById('propertyVideo');
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
            if (!titleInput || !descriptionInput || !priceInput || !areaInput || !developerInput) {
                console.error('–û—à–∏–±–∫–∞: –Ω–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –Ω–∞–π–¥–µ–Ω—ã');
                alert('–û—à–∏–±–∫–∞: –Ω–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –Ω–∞–π–¥–µ–Ω—ã');
                return;
            }
            
            // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
            const title = titleInput.value.trim();
            const description = descriptionInput.value.trim();
            const price = parseFloat(priceInput.value);
            const area = parseFloat(areaInput.value);
            const developerId = parseInt(developerInput.value);
            const video = videoInput ? videoInput.value.trim() : '';
            
            console.log('–ü–æ–ª—É—á–µ–Ω—ã –∑–Ω–∞—á–µ–Ω–∏—è:', {title, description, price, area, developerId, video});
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è
            if (!title) {
                alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞');
                titleInput.focus();
                return;
            }
            
            if (!description) {
                alert('–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞');
                descriptionInput.focus();
                return;
            }
            
            if (isNaN(price) || price <= 0) {
                alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ü–µ–Ω—É');
                priceInput.focus();
                return;
            }
            
            if (isNaN(area) || area <= 0) {
                alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –ø–ª–æ—â–∞–¥—å');
                areaInput.focus();
                return;
            }
            
            if (isNaN(developerId) || developerId <= 0) {
                alert('–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞');
                developerInput.focus();
                return;
            }
            
            // –ü–æ–ª—É—á–∞–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
            const idInput = document.getElementById('propertyId');
            const shortDescriptionInput = document.getElementById('shortDescription');
            const locationLinkInput = document.getElementById('propertyLocationLink');
            const badgeInput = document.getElementById('propertyBadge');
            
            const shortDescription = shortDescriptionInput ? shortDescriptionInput.value.trim() : '';
            const locationLink = locationLinkInput ? locationLinkInput.value.trim() : '';
            const badge = badgeInput ? badgeInput.value.trim() : '';
            
            // –°–æ–±–∏—Ä–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ –ø—Ä–µ–≤—å—é
            const preview = document.getElementById('imagePreview');
            const images = [];
            if (preview) {
                const imgElements = preview.querySelectorAll('img');
                console.log('–ù–∞–π–¥–µ–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –ø—Ä–µ–≤—å—é:', imgElements.length);
                
                imgElements.forEach((img, index) => {
                    if (img.src && img.src.startsWith('data:')) {
                        images.push(img.src);
                        console.log(`–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ${index} –¥–æ–±–∞–≤–ª–µ–Ω–æ`);
                    }
                });
            }
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º ID –æ–±—ä–µ–∫—Ç–∞
            const propertyId = idInput && idInput.value ? parseInt(idInput.value) : null;
            const isEdit = !!propertyId;
            
            console.log('–†–µ–∂–∏–º:', isEdit ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ' : '–°–æ–∑–¥–∞–Ω–∏–µ', 'ID:', propertyId);
            
            try {
                if (isEdit) {
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç
                    const index = currentData.properties.findIndex(p => p.id === propertyId);
                    if (index !== -1) {
                        currentData.properties[index] = {
                            ...currentData.properties[index],
                            title,
                            description,
                            shortDescription: shortDescription || currentData.properties[index].shortDescription,
                            price,
                            area,
                            video: video || currentData.properties[index].video,
                            locationLink: locationLink || currentData.properties[index].locationLink,
                            developerId,
                            badge: badge || currentData.properties[index].badge,
                            images: images.length > 0 ? images : currentData.properties[index].images
                        };
                        console.log('–û–±—ä–µ–∫—Ç –æ–±–Ω–æ–≤–ª–µ–Ω:', currentData.properties[index]);
                    } else {
                        console.error('–û–±—ä–µ–∫—Ç –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω');
                        alert('–û–±—ä–µ–∫—Ç –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω');
                        return;
                    }
                } else {
                    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç
                    const newId = currentData.properties.length > 0 
                        ? Math.max(...currentData.properties.map(p => p.id)) + 1 
                        : 1;
                    
                    const newProperty = {
                        id: newId,
                        title,
                        description,
                        shortDescription,
                        price,
                        area,
                        video,
                        locationLink,
                        developerId,
                        badge,
                        images
                    };
                    
                    currentData.properties.push(newProperty);
                    console.log('–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç:', newProperty);
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ —É –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–æ–≤
                updateDeveloperProjectsCount();
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
                saveData();
                console.log('–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                renderProperties();
                renderDevelopers();
                console.log('–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ');
                
                // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                closeEditModal();
                console.log('–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫—Ä—ã—Ç–æ');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
                setTimeout(() => {
                    alert(isEdit ? '–û–±—ä–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω!' : '–û–±—ä–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!');
                }, 100);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏:', error);
                alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏: ' + error.message);
            }
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        function closeEditModal() {
            const modal = document.getElementById('editModal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
                const modalContent = document.getElementById('modalContent');
                if (modalContent) modalContent.innerHTML = '';
            }
        }

        // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
        function editProperty(propertyId) {
            openEditModal('property', propertyId);
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
        function deleteProperty(propertyId) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç?')) {
                currentData.properties = currentData.properties.filter(p => p.id !== propertyId);
                updateDeveloperProjectsCount();
                saveData();
                renderProperties();
                renderDevelopers();
                alert('–û–±—ä–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!');
            }
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        function deleteAttraction(attractionId) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å?')) {
                currentData.attractions = currentData.attractions.filter(a => a.id !== attractionId);
                saveData();
                renderAttractions();
                alert('–î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞!');
            }
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞
        function deleteDeveloper(developerId) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞?')) {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –æ–±—ä–µ–∫—Ç—ã —É —ç—Ç–æ–≥–æ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞
                const hasProperties = currentData.properties.some(p => p.developerId === developerId);
                if (hasProperties) {
                    if (!confirm('–£ —ç—Ç–æ–≥–æ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞ –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç—ã. –£–¥–∞–ª–∏—Ç—å –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞ –∏ –≤—Å–µ –µ–≥–æ –æ–±—ä–µ–∫—Ç—ã?')) {
                        return;
                    }
                    // –£–¥–∞–ª—è–µ–º –æ–±—ä–µ–∫—Ç—ã –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞
                    currentData.properties = currentData.properties.filter(p => p.developerId !== developerId);
                }
                
                currentData.developers = currentData.developers.filter(d => d.id !== developerId);
                updateDeveloperProjectsCount();
                saveData();
                renderDevelopers();
                updateDeveloperFilter();
                renderProperties();
                alert('–ó–∞—Å—Ç—Ä–æ–π—â–∏–∫ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!');
            }
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ embed URL –¥–ª—è YouTube
        function getEmbedVideoUrl(url) {
            if (!url) return '';
            
            if (url.includes('youtube.com/watch?v=')) {
                const videoId = url.split('v=')[1]?.split('&')[0];
                return videoId ? `https://www.youtube.com/embed/${videoId}` : '';
            } else if (url.includes('youtu.be/')) {
                const videoId = url.split('youtu.be/')[1]?.split('?')[0];
                return videoId ? `https://www.youtube.com/embed/${videoId}` : '';
            } else if (url.includes('youtube.com/embed/')) {
                return url;
            }
            
            return url;
        }

        // –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        function viewAttractionDetail(attractionId) {
            const attraction = currentData.attractions.find(a => a.id === attractionId);
            if (!attraction) return;
            
            document.getElementById('attractionDetailTitle').textContent = attraction.title;
            const imageEl = document.getElementById('attractionDetailImage');
            const images = attraction.images || [];
            const mainImage = images.length > 0 ? images[0] : '';
            
            if (mainImage) {
                imageEl.style.backgroundImage = `url('${mainImage}')`;
                imageEl.innerHTML = '';
                imageEl.onclick = function() {
                    openFullscreenImage(mainImage);
                };
                imageEl.style.cursor = 'pointer';
            } else {
                imageEl.style.backgroundImage = 'none';
                imageEl.innerHTML = '<div class="no-image"><i class="fas fa-landmark"></i><div>–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</div></div>';
                imageEl.onclick = null;
                imageEl.style.cursor = 'default';
            }
            
            document.getElementById('attractionDetailDescription').textContent = attraction.description;
            const videoEl = document.getElementById('attractionDetailVideo');
            if (attraction.video) {
                videoEl.innerHTML = `
                    <h4 style="color: var(--dark); margin-bottom: 1rem;">–í–∏–¥–µ–æ</h4>
                    <div class="video-container">
                        <iframe src="${getEmbedVideoUrl(attraction.video)}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                `;
            } else {
                videoEl.innerHTML = '';
            }
            
            const modal = document.getElementById('attractionDetailModal');
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            window.currentAttractionDetailId = attractionId;
        }

        function closeAttractionDetailModal() {
            const modal = document.getElementById('attractionDetailModal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        function editCurrentAttraction() {
            closeAttractionDetailModal();
            openEditModal('attraction', window.currentAttractionDetailId);
        }

        // –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞
        function viewDeveloperDetail(developerId) {
            const developer = currentData.developers.find(d => d.id === developerId);
            if (!developer) return;
            
            const projectsCount = currentData.properties.filter(p => p.developerId === developerId).length;
            
            let detailHTML = `
                <div style="max-width: 800px; margin: 0 auto; background: white; border-radius: 10px; padding: 2rem; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <div style="text-align: center; margin-bottom: 1.5rem;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">${developer.icon || 'üè¢'}</div>
                        <h2 style="color: var(--dark); margin-bottom: 0.5rem;">${developer.name}</h2>
                    </div>
                    <div style="background: #f8f9fa; padding: 1rem; border-radius: 5px; margin-bottom: 1.5rem;">
                        <strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤:</strong> ${projectsCount}
                    </div>
                    ${developer.video ? `<div class="video-container">
                        <iframe src="${getEmbedVideoUrl(developer.video)}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>` : ''}
                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button class="btn" onclick="openEditModal('developer', ${developer.id}); this.parentElement.parentElement.remove()">
                            <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                        <button class="btn btn-outline" onclick="this.parentElement.parentElement.remove()">
                            –ó–∞–∫—Ä—ã—Ç—å
                        </button>
                    </div>
                </div>
            `;
            
            const detailDiv = document.createElement('div');
            detailDiv.className = 'modal';
            detailDiv.style.display = 'flex';
            detailDiv.style.alignItems = 'center';
            detailDiv.style.justifyContent = 'center';
            detailDiv.innerHTML = detailHTML;
            
            detailDiv.onclick = function(e) {
                if (e.target === this) {
                    this.remove();
                    document.body.style.overflow = 'auto';
                }
            };
            
            document.body.appendChild(detailDiv);
            document.body.style.overflow = 'hidden';
            
            detailDiv.querySelector('.btn-outline').onclick = function() {
                detailDiv.remove();
                document.body.style.overflow = 'auto';
            };
        }

        // –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        function openFullscreenImage(imageUrl) {
            const fullscreen = document.getElementById('imageFullscreen');
            const img = document.getElementById('fullscreenImg');
            
            img.src = imageUrl;
            img.style.transform = 'scale(1)';
            fullscreen.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            window.currentZoom = 1;
        }

        function closeFullscreen() {
            const fullscreen = document.getElementById('imageFullscreen');
            fullscreen.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function zoomIn() {
            window.currentZoom = (window.currentZoom || 1) * 1.2;
            document.getElementById('fullscreenImg').style.transform = `scale(${window.currentZoom})`;
        }

        function zoomOut() {
            window.currentZoom = Math.max(0.5, (window.currentZoom || 1) * 0.8);
            document.getElementById('fullscreenImg').style.transform = `scale(${window.currentZoom})`;
        }

        function resetZoom() {
            window.currentZoom = 1;
            document.getElementById('fullscreenImg').style.transform = 'scale(1)';
        }

        // –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π –æ–±—ä–µ–∫—Ç–∞
        function viewPropertyDetail(propertyId) {
            const property = currentData.properties.find(p => p.id === propertyId);
            if (!property) return;
            
            const developer = currentData.developers.find(d => d.id === property.developerId);
            const modal = document.getElementById('propertyDetailModal');
            const carousel = document.getElementById('detailCarousel');
            
            if (!modal || !carousel) return;
            
            document.getElementById('detailTitle').textContent = property.title;
            document.getElementById('detailDeveloper').textContent = developer ? developer.name : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫';
            document.getElementById('detailPrice').innerHTML = `<div class="property-price">–æ—Ç $${property.price.toLocaleString()}</div>`;
            document.getElementById('detailPriceValue').textContent = `$${property.price.toLocaleString()}`;
            document.getElementById('detailArea').textContent = `${property.area} –º¬≤`;
            
            let description = property.description || '';
            description = description.replace(/\n/g, '<br>');
            document.getElementById('detailDescription').innerHTML = description;
            
            const locationEl = document.getElementById('detailLocation');
            if (property.locationLink) {
                locationEl.innerHTML = `
                    <div class="detail-item">
                        <strong>–õ–æ–∫–∞—Ü–∏—è:</strong>
                        <a href="${property.locationLink}" target="_blank" rel="noopener noreferrer" style="color: var(--gold); text-decoration: none;">
                            <i class="fas fa-map-marker-alt"></i> –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ
                        </a>
                    </div>
                `;
            } else {
                locationEl.innerHTML = '';
            }
            
            const videoEl = document.getElementById('detailVideo');
            if (property.video) {
                if (property.video.startsWith('data:')) {
                    videoEl.innerHTML = `
                        <h3 style="color: var(--dark); margin-bottom: 1rem;">–í–∏–¥–µ–æ –æ–±—ä–µ–∫—Ç–∞</h3>
                        <div class="video-container">
                            <video controls style="width: 100%; height: 100%; border-radius: 10px;">
                                <source src="${property.video}" type="video/mp4">
                                –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
                            </video>
                        </div>
                    `;
                } else {
                    videoEl.innerHTML = `
                        <h3 style="color: var(--dark); margin-bottom: 1rem;">–í–∏–¥–µ–æ –æ–±—ä–µ–∫—Ç–∞</h3>
                        <div class="video-container">
                            <iframe src="${getEmbedVideoUrl(property.video)}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                    `;
                }
            } else {
                videoEl.innerHTML = '';
            }
            
            carousel.innerHTML = '';
            const images = property.images || [];
            if (images.length > 0) {
                images.forEach((img, index) => {
                    const slide = document.createElement('div');
                    slide.className = `detail-carousel-slide ${index === 0 ? 'active' : ''}`;
                    slide.style.backgroundImage = `url('${img}')`;
                    slide.onclick = function() {
                        openFullscreenImage(img);
                    };
                    slide.style.cursor = 'pointer';
                    carousel.appendChild(slide);
                });
                
                if (images.length > 1) {
                    const prevBtn = document.createElement('button');
                    prevBtn.className = 'detail-carousel-btn prev';
                    prevBtn.innerHTML = '‚Äπ';
                    prevBtn.onclick = prevDetailSlide;
                    carousel.appendChild(prevBtn);
                    
                    const nextBtn = document.createElement('button');
                    nextBtn.className = 'detail-carousel-btn next';
                    nextBtn.innerHTML = '‚Ä∫';
                    nextBtn.onclick = nextDetailSlide;
                    carousel.appendChild(nextBtn);
                    
                    const dots = document.createElement('div');
                    dots.className = 'detail-carousel-dots';
                    images.forEach((_, index) => {
                        const dot = document.createElement('span');
                        dot.className = `detail-carousel-dot ${index === 0 ? 'active' : ''}`;
                        dot.onclick = () => goToDetailSlide(index);
                        dots.appendChild(dot);
                    });
                    carousel.appendChild(dots);
                }
            } else {
                const slide = document.createElement('div');
                slide.className = 'detail-carousel-slide active no-image';
                slide.innerHTML = '<i class="fas fa-home" style="font-size: 3rem;"></i><div>–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>';
                carousel.appendChild(slide);
            }
            
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            window.currentDetailPropertyId = propertyId;
            window.detailCarouselIndex = 0;
        }

        function closeDetailModal() {
            const modal = document.getElementById('propertyDetailModal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        function editCurrentProperty() {
            closeDetailModal();
            openEditModal('property', window.currentDetailPropertyId);
        }

        function deleteCurrentProperty() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç?')) {
                currentData.properties = currentData.properties.filter(p => p.id !== window.currentDetailPropertyId);
                updateDeveloperProjectsCount();
                saveData();
                renderProperties();
                renderDevelopers();
                closeDetailModal();
                alert('–û–±—ä–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!');
            }
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–∞—Ä—É—Å–µ–ª–∏ –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ
        let detailCarouselIndex = 0;
        
        function prevDetailSlide() {
            const slides = document.querySelectorAll('.detail-carousel-slide');
            const dots = document.querySelectorAll('.detail-carousel-dot');
            if (slides.length === 0) return;
            
            slides[detailCarouselIndex].classList.remove('active');
            if (dots[detailCarouselIndex]) dots[detailCarouselIndex].classList.remove('active');
            
            detailCarouselIndex = (detailCarouselIndex - 1 + slides.length) % slides.length;
            
            slides[detailCarouselIndex].classList.add('active');
            if (dots[detailCarouselIndex]) dots[detailCarouselIndex].classList.add('active');
        }
        
        function nextDetailSlide() {
            const slides = document.querySelectorAll('.detail-carousel-slide');
            const dots = document.querySelectorAll('.detail-carousel-dot');
            if (slides.length === 0) return;
            
            slides[detailCarouselIndex].classList.remove('active');
            if (dots[detailCarouselIndex]) dots[detailCarouselIndex].classList.remove('active');
            
            detailCarouselIndex = (detailCarouselIndex + 1) % slides.length;
            
            slides[detailCarouselIndex].classList.add('active');
            if (dots[detailCarouselIndex]) dots[detailCarouselIndex].classList.add('active');
        }
        
        function goToDetailSlide(index) {
            const slides = document.querySelectorAll('.detail-carousel-slide');
            const dots = document.querySelectorAll('.detail-carousel-dot');
            if (slides.length === 0) return;
            
            slides[detailCarouselIndex].classList.remove('active');
            if (dots[detailCarouselIndex]) dots[detailCarouselIndex].classList.remove('active');
            
            detailCarouselIndex = index;
            
            slides[detailCarouselIndex].classList.add('active');
            if (dots[detailCarouselIndex]) dots[detailCarouselIndex].classList.add('active');
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
        function applyFilters() {
            const developerFilter = document.getElementById('developerFilter').value;
            const priceFilter = document.getElementById('priceFilter').value;
            const areaFilter = document.getElementById('areaFilter').value;
            
            const properties = document.querySelectorAll('.property-card');
            
            properties.forEach(card => {
                const priceText = card.querySelector('.property-price')?.textContent || '0';
                const price = parseInt(priceText.replace(/[^0-9]/g, '')) || 0;
                const areaText = card.querySelector('.property-details strong')?.textContent || '0';
                const area = parseInt(areaText.replace(/[^0-9]/g, '')) || 0;
                
                let show = true;
                
                if (developerFilter !== 'all') {
                    const developerName = card.querySelector('.property-developer').textContent;
                    const developer = currentData.developers.find(d => d.id === parseInt(developerFilter));
                    if (!developer || developerName !== developer.name) {
                        show = false;
                    }
                }
                
                if (priceFilter && price > parseInt(priceFilter)) {
                    show = false;
                }
                
                if (areaFilter && area < parseInt(areaFilter)) {
                    show = false;
                }
                
                card.style.display = show ? 'block' : 'none';
            });
        }

        function filterByDeveloper(developerId) {
            document.getElementById('developerFilter').value = developerId;
            applyFilters();
            document.getElementById('properties').scrollIntoView({ behavior: 'smooth' });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            console.log('–î–æ–∫—É–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...');
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
            loadData();
            
            // –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
            document.getElementById('mobileMenuBtn').addEventListener('click', function() {
                const nav = document.getElementById('mainNav');
                nav.classList.toggle('active');
            });
            
            // –ü–ª–∞–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —è–∫–æ—Ä—è–º
            document.querySelectorAll('nav a').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        document.getElementById('mainNav').classList.remove('active');
                        document.querySelectorAll('nav a').forEach(link => link.classList.remove('active'));
                        this.classList.add('active');
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –∏—Ö
            window.addEventListener('click', function(e) {
                if (e.target.classList.contains('edit-modal')) {
                    closeEditModal();
                }
                if (e.target.classList.contains('detail-modal')) {
                    closeDetailModal();
                }
                if (e.target.id === 'attractionDetailModal') {
                    closeAttractionDetailModal();
                }
                if (e.target.id === 'imageFullscreen') {
                    closeFullscreen();
                }
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Esc
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeEditModal();
                    closeDetailModal();
                    closeAttractionDetailModal();
                    closeFullscreen();
                }
            });
            
            console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
        });
    </script>
</body>
</html>